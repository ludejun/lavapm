<div class="clrfix operator-panel">
	<div class="clrfix">
		<a data-ui-sref="systemTags_new" class="btn-add"><i class="icons icons-add"></i>{{nlsRoot.addSystemTag}}</a>
	</div>
</div>
<div class="ng-table-container">
	<div class="ng-table-head clrfix">
		<div class="text">{{nlsRoot.systemTagList}}</div>
		<div class="search" data-search role="search"></div>
	</div>
	<div ng-if="isShowMoreSearch" class="more-search-box clrfix">
		<ul class="clrfix">
			<li>
				<div class="label">{{nlsRoot.systemTagName}}</div>
				<div class="control">
					<input type="text" class="form-control" ng-model="moreSearchCondition.name">
				</div>
			</li>
			<li>
				<div class="label">{{nlsRoot.touchPointTypes}}</div>
				<div class="control">
					<select class="form-control" ng-model="moreSearchCondition.touchPointType">
						<option value="" >{{nlsRoot.pleaseSelect}}</option>
						<option ng-repeat="sts in touchPointTypes" value="{{sts.dicItemKey}}" ng-selected="sts.dicItemKey == moreSearchCondition.touchPointType">{{sts.dicItemValue}}</option>
					</select>
				</div>
			</li>
			<!-- <li>
				<div class="label">系统标签代码</div>
				<div class="control">
					<input type="text" class="form-control" ng-model="moreSearchCondition.code">
				</div>
			</li> -->
			<li>
				<div class="label">{{nlsRoot.status}}</div>
				<div class="control">
					<select class="form-control" ng-model="moreSearchCondition.status">
						<option value="" >{{nlsRoot.pleaseSelect}}</option>
						<option ng-repeat="sts in systemTagStatusList" ng-if="sts.dicItemKey != -1" value="{{sts.dicItemKey}}" >{{sts.dicItemValue}}</option>
					</select>
				</div>
			</li>
			<li>
				<div class="label">{{nlsRoot.calcStatus}}</div>
				<div class="control">
					<select class="form-control" ng-model="moreSearchCondition.calcStatus">
						<option value="" >{{nlsRoot.pleaseSelect}}</option>
						<option ng-if="sts.dicItemKey != '-4' && sts.dicItemKey != '5'" ng-repeat="sts in systemTagCalcStatusList" value="{{sts.dicItemKey}}" >{{sts.dicItemValue}}</option>
					</select>
				</div>
			</li>
			
			<li>
				<div class="label">{{nlsRoot.creator}}</div>
				<div class="control">
					<input type="text" class="form-control" ng-model="moreSearchCondition.creator">
				</div>
			</li>
			
			<li>
				<div class="label">{{nlsRoot.createTime}}</div>
				<div class="control">
					<div start-date="moreSearchCondition.createTimeStart" end-date="moreSearchCondition.createTimeEnd" td-change="changeCreateTime" td-date-condition date-range="dateRange" class="form-control date-condition date-condition-right" type="text"></div>
				</div>
			</li>
			
			<li>
				<div class="label">{{nlsRoot.changeTagDataTime}}</div>
				<div class="control">
					<div start-date="moreSearchCondition.tagDataTimeStart" end-date="moreSearchCondition.tagDataTimeEnd" td-change="changeTagDataTime" td-date-condition date-range="dateRange" class="form-control date-condition" type="text"></div>
				</div>
			</li>
		</ul>
		
		<div class="btns-box">
			<div class="btns">
				<button type="button" class="btn btn-primary btn-sm ml-10" ng-click="search();">{{nlsRoot.search}}</button>
        		<button type="button" class="btn btn-default btn-sm" ng-click="resetMoreSearchCondition();">{{nlsRoot.reset}}</button>
			</div>
		</div>
	</div>
	
	<div class="ng-table-body ng-table-body-empty">
		<table freeze="true" ng-table="tableParams" class="table ng-table-responsive table-hover" id="tableParams">
		    <tr ng-repeat="systemTag in $data">
		       <!-- <td data-title="'序号'">{{$index + 1}}</td> -->
		       <!-- <td data-title="'系统标签ID'"><div>{{systemTag.id}}</div></td> -->
		       <td data-title="nlsRoot.systemTagName"><div title="{{systemTag.name}}">{{systemTag.name}}</div></td>
		       <td data-title="nlsRoot.touchPointTypes">
		       		<div class="min-wd50">
		       			<i ng-if="systemTag.crowdIcon != null"  class="{{systemTag.crowdIcon}}" title="{{systemTag.touchPointTypeName}}"></i>
		       			<i ng-if="systemTag.crowdIcon == null" class="icons-id icon-id-touchpointtype-other" title="{{systemTag.touchPointTypeName}}"></i>
		       			
		       			<!--  
				       	<i ng-if="systemTag.touchPointType == 'app_tdid'" class="icons icon-touchpointtype1" title="{{systemTag.touchPointTypeName}}"></i>
				       	<i ng-if="systemTag.touchPointType == 'web_tdid'" class="icons icon-touchpointtype2" title="{{systemTag.touchPointTypeName}}"></i>
				       	<i ng-if="systemTag.touchPointType == 'h5_tdid'" class="icons icon-touchpointtype3" title="{{systemTag.touchPointTypeName}}"></i>
				       	<i ng-if="systemTag.touchPointType == 'account_id'" class="icons icon-touchpointtype99" title="{{systemTag.touchPointTypeName}}"></i>
				       	<i ng-if="systemTag.touchPointType == 'mac_tdid'" class="icons icon-touchpointtype-mac" title="{{systemTag.touchPointTypeName}}"></i>
		       			<i ng-if="systemTag.touchPointType != 'app_tdid' && 
				       		systemTag.touchPointType != 'web_tdid' && 
				       		systemTag.touchPointType != 'h5_tdid' && 
				       		systemTag.touchPointType != 'account_id' && 
				       		systemTag.touchPointType != 'mac_tdid'" class="icons icon-touchpointtype-other" title="{{systemTag.touchPointTypeName}}"></i>-->
		       		</div>
		       </td>
		       <!-- <td data-title="'系统标签代码'"><div class="t-o-e" style="width:95px;" title="{{systemTag.code}}">{{systemTag.code}}</div></td> -->
		       <!-- <td data-title="'类型'"><div>{{systemTag.systemTagType | DictFormatter : 'SYSTEM_TAG_TYPE'}}</div></td> -->
		       <td data-title="nlsRoot.status"><div class="t-o-e" >{{systemTag.status | DictFormatter : 'DMP_OBJECT_STATUS'}}</div></td>
		       <td data-title="nlsRoot.calcStatus"><div>{{systemTag.calcStatus | DictFormatter : 'DMP_BASE_CALC_RECORD_STATUS'}}</div></td>
		       <!-- <td data-title="'描述'"><div>{{systemTag.description}}</div></td> -->
		       <td data-title="nlsRoot.creator"><div class="max-wd80 t-o-e" title="{{systemTag.creator}}">{{systemTag.creator}}</div></td>
		       <td data-title="nlsRoot.createTime"><div class="max-wd120 t-o-e" title="{{systemTag.createTime | DateFormatDefault}}">{{systemTag.createTime | DateFormatDefault}}</div></td>
		       <td data-title="nlsRoot.changeTagDataTime"><div class="max-wd120 t-o-e" title="{{systemTag.tagDataTime | DateFormatDefault}}">{{systemTag.tagDataTime | DateFormatDefault}}</div></td>
		       <td data-title="nlsRoot.operation">
		       		<div class="ng-table-operator" ng-if="loginUser.loginName == systemTag.createBy">
			       	   	<a ui-sref="systemTags_edit({systemTagId:systemTag.id})" ng-if="systemTag.calcStatus != 1">{{nlsRoot.edit}}</a>
			       	   	<a ng-click="removeSystemTag(systemTag);" href="javascript:;" ng-if="systemTag.calcStatus == 2 || systemTag.calcStatus == -1">{{nlsRoot.toDelete}}</a>
			       	   	<a ng-click="goCalcObjectLog(systemTag.id);" href="javascript:;">{{nlsRoot.log}}</a>
		       		</div>
		       		<!-- <div class="ng-table-operator" ng-if="loginUser.loginName == systemTag.createBy">
			       	   	<a ui-sref="systemTags_edit({systemTagId:systemTag.id})" ng-if="systemTag.calcStatus != 1">编辑</a>
			       	   	<a ng-click="removeSystemTag(systemTag);" href="javascript:;" ng-if="systemTag.calcStatus == 2 || systemTag.calcStatus == -1">删除</a>
			       	   	<a ng-click="goCalcObjectLog(systemTag.id);" ng-if="!(systemTag.status == 1 && systemTag.calcStatus == 0) && (systemTag.calcStatus == 1 || !(systemTag.status == 1 && (systemTag.calcStatus == -1 || systemTag.calcStatus == -2 || systemTag.calcStatus == -3)))" href="javascript:;">日志</a>
			       	   	
			       	   	<a ng-if="systemTag.status == 1 && (systemTag.calcStatus == -1 || systemTag.calcStatus == -2 || systemTag.calcStatus == -3)" class="more" ng-class="{'active':systemTag.isShowMoreOperator}" style="text-indent:20px;cursor: pointer;" ng-click="showMoreOperator(systemTag);">更多<i class="icons icons-more"></i></a>
			       	   	
			       	   	<ul class="more-ul" ng-if="systemTag.isShowMoreOperator">
			       	   		<li ng-if="systemTag.status == 1 && (systemTag.calcStatus == -1 || systemTag.calcStatus == -2 || systemTag.calcStatus == -3)">
			       	   			<a href="javascript:;" ng-click="reCalCulatesystemTag(systemTag);">
			       	   				<i class="icons icons-more-refresh"></i>重新计算
			       	   			</a>
			       	   		</li>
			       	   		<li ng-if="systemTag.calcStatus != 1">
			       	   			<a ng-click="goCalcObjectLog(systemTag.id);" href="javascript:;"><i class="icons icons-more-records"></i>日志</a>
			       	   		</li>
			       	   	</ul>
		       		</div> -->
		       		<div class="ng-table-operator" ng-if="loginUser.loginName != systemTag.createBy">
			       	   	<a ui-sref="systemTags_edit({systemTagId:systemTag.id})" ng-if="systemTag.calcStatus != 1">{{nlsRoot.lookUp}}</a>
		       		</div>
		       </td>
		    </tr>
		</table>
	</div>
</div>